/* Thiết lập chung cho di động */
@media (max-width: 768px) {
    /* 1. Đảm bảo toàn bộ ứng dụng CMS nằm gọn */
    body {
        overflow-x: hidden; /* Ngăn chặn cuộn ngang gây ra bởi các phần tử bị tràn */
    }

    /* 2. Tắt chế độ chia đôi màn hình (Split Pane) */
    /* Trong giao diện Editor, Decap CMS dùng Split Pane. Ta phải ép nó xếp chồng */
    .SplitPaneContainer {
        flex-direction: column !important;
        height: auto !important;
    }

    /* Đặt tất cả các khung về 100% chiều rộng */
    .SplitPane-Pane {
        min-width: 100% !important;
        max-width: 100% !important;
        width: 100% !important;
        /* Loại bỏ border phải/trái thừa trên điện thoại */
        border-right: none !important;
    }

    /* 3. Tối ưu Giao diện Danh sách Bài viết (Sidebar) */
    
    /* Làm cho danh sách (cái khung bên trái) chiếm toàn bộ màn hình */
    .CollectionTop, .css-1yq18o6 { /* Selector cho khung chính/sidebar */
        width: 100% !important;
        position: relative !important;
        z-index: 10;
        min-height: 100vh; /* Đảm bảo đủ chiều cao */
    }

    /* Đảm bảo các mục bài viết hiển thị rõ ràng */
    .CollectionList-item {
        margin-bottom: 8px;
        padding: 12px;
        border-radius: 4px;
        /* Giúp tiêu đề xuống dòng tự động, không bị cắt */
        white-space: normal; 
    }
    
    .CollectionList-item-title {
        font-size: 16px;
        line-height: 1.4;
    }

    /* 4. Tối ưu Giao diện Soạn thảo (Editor) */
    
    /* Khung soạn thảo Markdown (làm cho Editor chiếm toàn bộ, ẩn Preview) */
    .cms-editor-container .SplitPane-Pane:nth-child(2) {
        /* Khung Preview: Ẩn đi hoàn toàn trên mobile */
        display: none !important;
    }
    
    .cms-editor-container .SplitPane-Pane:nth-child(1) {
        /* Khung Editor: Ép chiếm 100% khi Preview bị ẩn */
        width: 100% !important;
        min-height: 100vh; /* Đảm bảo đủ không gian viết */
    }

    /* 5. Tối ưu các trường nhập liệu (Title, Date, URL) */
    
    .ControlPane-ControlContainer {
        /* Xếp chồng nhãn và ô input */
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
        padding: 8px 10px;
    }
    
    /* Đảm bảo ô input chiếm hết chiều ngang */
    .ControlPane-ControlContainer input,
    .ControlPane-ControlContainer select {
        width: 100% !important;
    }
    
    /* Fix lỗi Font chữ trong ô nhập liệu */
    input[type="text"], input[type="url"], input[type="datetime-local"], textarea {
        font-size: 16px; 
    }
}

/* Thêm hiệu ứng chạm (touch feedback) */
.CollectionList-item:active {
    background-color: rgba(0, 0, 0, 0.05);
}