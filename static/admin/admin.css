/* FILE: static/admin/admin.css - PHIÊN BẢN V3 MOBILE */

/* --- CẤU HÌNH MÀU SẮC & BIẾN --- */
:root {
  --primary-color: #f57c00; /* Cam Blogger */
  --bg-color: #f0f2f5;
  --white: #ffffff;
  --text-dark: #202124;
  --border-color: #e0e0e0;
}

/* --- 1. THIẾT LẬP CHUNG --- */
body, html {
  background-color: var(--bg-color);
  overflow-x: hidden; /* Chặn cuộn ngang gây vỡ khung */
}

/* Tùy chỉnh thanh cuộn cho đẹp */
::-webkit-scrollbar { height: 4px; width: 4px; }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }

@media (max-width: 768px) {

  /* --- 2. KHUNG CHÍNH: ÉP XẾP DỌC (FIX LỖI CO DÃN) --- */
  div[class*="SplitPaneContainer"],
  .nc-app-main {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* --- 3. MENU NGANG (THANH TRƯỢT TRÊN CÙNG) --- */
  /* Chuyển Sidebar dọc thành thanh menu ngang dính trên đầu */
  div[class*="SidebarContainer"] {
    position: sticky !important;
    top: 0;
    width: 100% !important;
    min-width: 100% !important;
    height: auto !important;
    background: var(--white);
    border-bottom: 2px solid var(--primary-color);
    border-right: none !important;
    z-index: 999; /* Đè lên nội dung khi cuộn */
    padding: 8px 0;
    order: 1; /* Đảm bảo nằm đầu tiên */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  /* Container chứa các nút menu: Cho phép vuốt ngang */
  div[class*="SidebarContainer"] > nav,
  div[class*="SidebarContainer"] ul {
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto !important;
    white-space: nowrap;
    width: 100%;
    padding: 0 10px;
    margin: 0;
    gap: 10px; /* Khoảng cách giữa các nút */
    -webkit-overflow-scrolling: touch; /* Vuốt mượt trên iOS */
  }

  /* Giao diện nút Menu (Viên thuốc) */
  a[class*="SidebarNavLink"] {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    padding: 6px 16px !important;
    background-color: #f1f3f4;
    border-radius: 18px;
    color: var(--text-dark) !important;
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    border: 1px solid transparent;
    flex-shrink: 0; /* Không cho nút bị bóp méo */
    height: 36px;
  }

  /* Trạng thái đang chọn (Active) */
  a[class*="SidebarNavLink"].sidebar-active,
  a[class*="SidebarNavLink"]:active {
    background-color: #feefc3 !important; /* Vàng nhạt */
    color: var(--primary-color) !important;
    border-color: var(--primary-color);
    font-weight: bold;
  }

  /* Ẩn Icon thừa, chỉ hiện chữ */
  a[class*="SidebarNavLink"] svg { display: none !important; }
  a[class*="SidebarNavLink"] span { display: block !important; }

  /* --- 4. DANH SÁCH BÀI VIẾT --- */
  div[class*="CollectionPage"] {
    order: 2; /* Nằm dưới Menu */
    width: 100% !important;
    padding: 10px !important;
    padding-bottom: 80px !important; /* Chừa chỗ cho nút FAB */
  }

  /* Ẩn thanh tiêu đề Collection mặc định nếu nó quá to */
  div[class*="CollectionPage"] h1 { font-size: 18px; margin: 10px 0; }

  /* Thẻ bài viết (Card Style) */
  a[class*="CollectionList-item"] {
    display: flex !important;
    flex-direction: column;
    background: var(--white);
    padding: 15px;
    margin-bottom: 12px !important;
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    border: none !important;
    border-left: 4px solid var(--primary-color) !important;
  }

  [class*="CollectionList-item-title"] {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin-bottom: 5px;
    white-space: normal !important;
  }

  /* --- 5. NÚT FAB (+) TẠO BÀI VIẾT MỚI --- */
  /* Tìm nút New Post và biến hình */
  a[class*="RepoHeader-createNew"],
  button[class*="RepoHeader-createNew"] {
    position: fixed !important;
    bottom: 24px !important;
    right: 24px !important;
    width: 56px !important;
    height: 56px !important;
    border-radius: 50% !important;
    background-color: var(--primary-color) !important;
    box-shadow: 0 4px 12px rgba(245, 124, 0, 0.4) !important;
    color: transparent !important; /* Ẩn chữ */
    z-index: 9999;
    padding: 0 !important;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Dấu cộng giả (+) */
  a[class*="RepoHeader-createNew"]::after,
  button[class*="RepoHeader-createNew"]::after {
    content: "+";
    color: white;
    font-size: 36px;
    font-weight: 300;
    line-height: 1;
    margin-top: -4px;
  }

  /* --- 6. TRANG SOẠN THẢO (EDITOR) --- */
  /* Ẩn cột Preview */
  .cms-editor-container .SplitPane-Pane:nth-child(2) { display: none !important; }
  
  /* Mở rộng Editor Full màn hình */
  .cms-editor-container .SplitPane-Pane:nth-child(1) {
    width: 100% !important;
    min-width: 100% !important;
    padding: 0 !important;
  }

  /* Thanh công cụ Save/Publish dính trên cùng */
  div[class*="EditorToolbar"] {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: var(--white);
    border-bottom: 1px solid #ddd;
    padding: 10px 15px;
    display: flex;
    justify-content: flex-end; /* Đẩy nút sang phải */
  }

  /* Nút Save to hơn */
  div[class*="EditorToolbar"] button {
    background-color: var(--primary-color) !important;
    color: white !important;
    font-weight: bold;
    text-transform: uppercase;
    padding: 8px 24px;
    border-radius: 4px;
    border: none;
  }

  /* Vùng nhập liệu */
  div[class*="EditorContainer"] { padding: 15px; }

  /* Input Tiêu đề đẹp hơn */
  div[class*="ControlPane-ControlContainer"]:first-child input {
    font-size: 20px !important;
    font-weight: bold;
    border: none !important;
    border-bottom: 2px solid #eee !important;
    border-radius: 0;
    padding: 10px 0;
    box-shadow: none !important;
  }
}